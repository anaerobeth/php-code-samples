(function(j){j.effects.effect.explode=function(e,s){function t(){l.push(this);l.length===f*k&&(a.css({visibility:"visible"}),j(l).remove(),b||a.hide(),s())}var f=e.pieces?Math.round(Math.sqrt(e.pieces)):3,k=f,a=j(this),b="show"===j.effects.setMode(a,e.mode||"hide"),r=a.show().css("visibility","hidden").offset(),g=Math.ceil(a.outerWidth()/k),h=Math.ceil(a.outerHeight()/f),l=[],c,d,m,n,p,q;for(c=0;c<f;c++){n=r.top+c*h;q=c-(f-1)/2;for(d=0;d<k;d++)m=r.left+d*g,p=d-(k-1)/2,a.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-d*g,top:-c*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:h,left:m+(b?p*g:0),top:n+(b?q*h:0),opacity:b?0:1}).animate({left:m+(b?0:p*g),top:n+(b?0:q*h),opacity:b?1:0},e.duration||500,e.easing,t)}}})(jQuery);