(function(b){b.effects.effect.puff=function(d,q){var e=b(this),f=b.effects.setMode(e,d.mode||"hide"),g="hide"===f,j=parseInt(d.percent,10)||150,c=j/100,h={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};b.extend(d,{effect:"scale",queue:!1,fade:!0,mode:f,complete:q,percent:g?j:100,from:g?h:{height:h.height*c,width:h.width*c,outerHeight:h.outerHeight*c,outerWidth:h.outerWidth*c}});e.effect(d)};b.effects.effect.scale=function(d,q){var e=b(this),f=b.extend(!0,
{},d),g=b.effects.setMode(e,d.mode||"effect"),j=parseInt(d.percent,10)||(0===parseInt(d.percent,10)?0:"hide"===g?0:100),c=d.direction||"both",h=d.origin,a={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()},r="horizontal"!==c?j/100:1,j="vertical"!==c?j/100:1;f.effect="size";f.queue=!1;f.complete=q;"effect"!==g&&(f.origin=h||["middle","center"],f.restore=!0);f.from=d.from||("show"===g?{height:0,width:0,outerHeight:0,outerWidth:0}:a);f.to={height:a.height*r,width:a.width*
j,outerHeight:a.outerHeight*r,outerWidth:a.outerWidth*j};f.fade&&("show"===g&&(f.from.opacity=0,f.to.opacity=1),"hide"===g&&(f.from.opacity=1,f.to.opacity=0));e.effect(f)};b.effects.effect.size=function(d,q){var e,f,g,j,c,h,a=b(this),r="position top bottom left right width height overflow opacity".split(" ");c="position top bottom left right overflow opacity".split(" ");var s=["width","height","overflow"],t=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],n=b.effects.setMode(a,d.mode||"effect"),u=d.restore||"effect"!==n,p=d.scale||"both",w=d.origin||["middle","center"],x=a.css("position"),k=u?r:c,v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===n&&a.show();c={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};"toggle"===d.mode&&"show"===n?(a.from=d.to||v,a.to=d.from||c):(a.from=d.from||("show"===n?v:c),a.to=d.to||("hide"===n?v:c));g=a.from.height/c.height;
j=a.from.width/c.width;e=a.to.height/c.height;f=a.to.width/c.width;if("box"===p||"both"===p)g!==e&&(k=k.concat(l),a.from=b.effects.setTransition(a,l,g,a.from),a.to=b.effects.setTransition(a,l,e,a.to)),j!==f&&(k=k.concat(m),a.from=b.effects.setTransition(a,m,j,a.from),a.to=b.effects.setTransition(a,m,f,a.to));("content"===p||"both"===p)&&g!==e&&(k=k.concat(t).concat(s),a.from=b.effects.setTransition(a,t,g,a.from),a.to=b.effects.setTransition(a,t,e,a.to));b.effects.save(a,k);a.show();b.effects.createWrapper(a);
a.css("overflow","hidden").css(a.from);w&&(h=b.effects.getBaseline(w,c),a.from.top=(c.outerHeight-a.outerHeight())*h.y,a.from.left=(c.outerWidth-a.outerWidth())*h.x,a.to.top=(c.outerHeight-a.to.outerHeight)*h.y,a.to.left=(c.outerWidth-a.to.outerWidth)*h.x);a.css(a.from);if("content"===p||"both"===p)l=l.concat(["marginTop","marginBottom"]).concat(t),m=m.concat(["marginLeft","marginRight"]),s=r.concat(l).concat(m),a.find("*[width]").each(function(){var a=b(this),c=a.height(),h=a.width(),k=a.outerHeight(),
n=a.outerWidth();u&&b.effects.save(a,s);a.from={height:c*g,width:h*j,outerHeight:k*g,outerWidth:n*j};a.to={height:c*e,width:h*f,outerHeight:c*e,outerWidth:h*f};g!==e&&(a.from=b.effects.setTransition(a,l,g,a.from),a.to=b.effects.setTransition(a,l,e,a.to));j!==f&&(a.from=b.effects.setTransition(a,m,j,a.from),a.to=b.effects.setTransition(a,m,f,a.to));a.css(a.from);a.animate(a.to,d.duration,d.easing,function(){u&&b.effects.restore(a,s)})});a.animate(a.to,{queue:!1,duration:d.duration,easing:d.easing,
complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity);"hide"===n&&a.hide();b.effects.restore(a,k);u||("static"===x?a.css({position:"relative",top:a.to.top,left:a.to.left}):b.each(["top","left"],function(b,c){a.css(c,function(c,d){var f=parseInt(d,10),e=b?a.to.left:a.to.top;return"auto"===d?e+"px":f+e+"px"})}));b.effects.removeWrapper(a);q()}})}})(jQuery);