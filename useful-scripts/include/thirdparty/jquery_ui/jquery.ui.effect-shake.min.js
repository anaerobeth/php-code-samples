(function(d){d.effects.effect.shake=function(b,r){var a=d(this),l="position top bottom left right height width".split(" "),s=d.effects.setMode(a,b.mode||"effect"),c=b.direction||"left",e=b.distance||20,m=b.times||3,n=2*m+1,f=Math.round(b.duration/n),h="up"===c||"down"===c?"top":"left",j="up"===c||"left"===c,c={},k={},p={},g=a.queue(),q=g.length;d.effects.save(a,l);a.show();d.effects.createWrapper(a);c[h]=(j?"-=":"+=")+e;k[h]=(j?"+=":"-=")+2*e;p[h]=(j?"-=":"+=")+2*e;a.animate(c,f,b.easing);for(e=1;e<
m;e++)a.animate(k,f,b.easing).animate(p,f,b.easing);a.animate(k,f,b.easing).animate(c,f/2,b.easing).queue(function(){"hide"===s&&a.hide();d.effects.restore(a,l);d.effects.removeWrapper(a);r()});1<q&&g.splice.apply(g,[1,0].concat(g.splice(q,n+1)));a.dequeue()}})(jQuery);